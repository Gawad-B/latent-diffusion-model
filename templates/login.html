<!DOCTYPE HTML>
<html>
	<head>
		<title>Login - RDMID</title>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />
		<link rel="icon" type="image/x-icon" href="/static/images/lung.ico" />
		<link rel="stylesheet" href="/static/assets/css/main.css" />
		<noscript><link rel="stylesheet" href="/static/assets/css/noscript.css" /></noscript>
		<style>
			.auth-container {
				max-width: 500px;
				margin: 100px auto;
				padding: 40px;
				background: rgba(46, 49, 65, 0.8);
				border-radius: 10px;
			}
			.auth-container h2 {
				text-align: center;
				margin-bottom: 30px;
				color: #fff;
			}
			.form-group {
				margin-bottom: 20px;
			}
			.form-group label {
				display: block;
				margin-bottom: 8px;
				color: #fff;
			}
			.form-group input {
				width: 100%;
				padding: 12px;
				border: 1px solid #444;
				background: rgba(255, 255, 255, 0.05);
				color: #fff;
				border-radius: 5px;
				font-size: 16px;
			}
			.form-group input:focus {
				outline: none;
				border-color: #5e42a6;
			}
			.btn-submit {
				width: 60%;
				margin: 0 auto;
				display: block;
				padding: 4px 20px;
				background: linear-gradient(135deg, rgba(139, 63, 191, 0.7), rgba(168, 85, 216, 0.7));
				backdrop-filter: blur(10px);
				-webkit-backdrop-filter: blur(10px);
				color: #fff;
				border: 1.5px solid rgba(255, 255, 255, 0.25);
				border-radius: 15px;
				font-size: 14px;
				font-weight: 600;
				cursor: pointer;
				transition: all 0.4s ease;
				box-shadow: 0 8px 32px 0 rgba(139, 63, 191, 0.4),
				            inset 0 1px 1px 0 rgba(255, 255, 255, 0.3);
				position: relative;
				overflow: hidden;
			}
			.btn-submit::before {
				content: '';
				position: absolute;
				top: 0;
				left: -100%;
				width: 100%;
				height: 100%;
				background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.3), transparent);
				transition: left 0.5s;
			}
			.btn-submit:hover {
				background: linear-gradient(135deg, rgba(168, 85, 216, 0.85), rgba(183, 78, 145, 0.85));
				box-shadow: 0 12px 40px 0 rgba(139, 63, 191, 0.6),
				            inset 0 1px 1px 0 rgba(255, 255, 255, 0.4);
				transform: translateY(-2px);
			}
			.btn-submit:hover::before {
				left: 100%;
			}
			.btn-submit:active {
				transform: translateY(0);
				box-shadow: 0 4px 16px 0 rgba(139, 63, 191, 0.4);
			}
			.auth-links {
				text-align: center;
				margin-top: 20px;
			}
			.auth-links a {
				color: #A855D8;
				text-decoration: none;
			}
			.auth-links a:hover {
				text-decoration: underline;
			}
			.alert {
				padding: 12px;
				margin-bottom: 20px;
				border-radius: 5px;
				display: none;
			}
			.alert-error {
				background: rgba(220, 53, 69, 0.2);
				border: 1px solid #dc3545;
				color: #ff6b7a;
			}
			.alert-success {
				background: rgba(40, 167, 69, 0.2);
				border: 1px solid #28a745;
				color: #4dff88;
			}
		</style>
	</head>
	<body class="is-preload">
		<div class="auth-container">
			<h2>Login to RDMID</h2>
			<div id="alert" class="alert"></div>
			<form id="loginForm">
				<div class="form-group">
					<label for="email">Email</label>
					<input type="email" id="email" name="email" required>
				</div>
				<div class="form-group">
					<label for="password">Password</label>
					<input type="password" id="password" name="password" required>
				</div>
				<button type="submit" class="btn-submit">Login</button>
			</form>
			<div class="auth-links">
				<p>Don't have an account? <a href="/signup">Sign up here</a></p>
			</div>
		</div>

		<script src="/static/assets/js/jquery.min.js"></script>
		<script>
			$(document).ready(function() {
				$('#loginForm').on('submit', function(e) {
					e.preventDefault();
					
					const email = $('#email').val();
					const password = $('#password').val();
					
					$.ajax({
						url: '/api/login',
						method: 'POST',
						contentType: 'application/json',
						data: JSON.stringify({ email, password }),
						success: function(response) {
							showAlert('Login successful! Redirecting...', 'success');
							setTimeout(function() {
								window.location.href = '/';
							}, 1000);
						},
						error: function(xhr) {
							const error = xhr.responseJSON?.error || 'Login failed. Please try again.';
							showAlert(error, 'error');
						}
					});
				});

				function showAlert(message, type) {
					const alert = $('#alert');
					alert.removeClass('alert-error alert-success');
					alert.addClass('alert-' + type);
					alert.text(message);
					alert.show();
				}
			});
		</script>
	</body>
</html>
